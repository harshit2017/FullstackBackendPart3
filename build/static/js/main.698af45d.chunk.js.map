{"version":3,"sources":["services/persons.js","components/Form/form.js","components/Filter/filter.js","components/Persons/persons.js","components/Notification/notification.js","components/App/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Form","addName","newName","handleNameChange","newNumber","handleNumChange","onSubmit","value","onChange","type","Filter","filterName","handleFilterChange","Persons","persons","handleDelete","map","person","console","log","name","number","key","onClick","filter","toLowerCase","Notification","message","styleType","className","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setStyleType","useEffect","personsService","initialPersons","e","target","preventDefault","isThere","includes","nameObject","window","confirm","pid","find","setTimeout","catch","error","newPersons","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.698af45d.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then((response) => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}","import React from 'react'\r\n\r\nconst Form = ({ addName, newName, handleNameChange, newNumber, handleNumChange }) => (<form onSubmit={addName}>\r\n    <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n        number: <input value={newNumber} onChange={handleNumChange} />\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n</form>)\r\n\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ filterName, handleFilterChange }) => <div> filter shown with<input value={filterName} onChange={handleFilterChange} /></div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({ persons, filterName, handleDelete }) => {\r\n    // console.log(filterName === '' || filterName==='')\r\n    persons.map((person) => console.log(person.name, person.number))\r\n    const showPersons = () => {\r\n\r\n        if (filterName === null || filterName==='') {\r\n            return (persons.map((person) => <p key={person.name}>{person.name} {person.number}\r\n                <button onClick={handleDelete} name={person.name} id={person.id}>delete</button></p>))\r\n\r\n        }\r\n        else {\r\n            return (persons.filter((person) =>\r\n                person.name.toLowerCase() === filterName.toLowerCase()).map((person) =>\r\n                    <p key={person.name}>{person.name} {person.number}\r\n                        <button onClick={handleDelete} name={person.name} id={person.id}>delete</button></p>))\r\n        }\r\n    }\r\n\r\n    return <div>\r\n        {showPersons()}\r\n    </div>\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, styleType }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={styleType}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personsService from '../../services/persons'\r\nimport Form from '../Form/form'\r\nimport Filter from '../Filter/filter'\r\nimport Persons from '../Persons/persons'\r\nimport Notification from '../Notification/notification'\r\n\r\n\r\nconst App = () => {\r\n\r\n  // state variables\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterName, setFilterName] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [styleType, setStyleType] = useState('notification')\r\n\r\n  // initial get req\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  // event handlers\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (e) => {\r\n    setFilterName(e.target.value)\r\n  }\r\n\r\n  const handleDelete = (e) => {\r\n    const name = e.target.name\r\n    const id = e.target.id\r\n\r\n\r\n    const confirm = window.confirm(`Delete ${name}`)\r\n\r\n    if (confirm) {\r\n      personsService\r\n        .remove(id)\r\n        .then(() =>\r\n          setPersons(persons.filter((person) => person.name.toLowerCase() !== name.toLowerCase()))\r\n        )\r\n    }\r\n  }\r\n\r\n  const addName = (e) => {\r\n    e.preventDefault()\r\n\r\n    const isThere = persons.map((person) => person.name.toLowerCase()).includes(newName.toLowerCase())\r\n\r\n    const nameObject = { name: newName, number: newNumber }\r\n\r\n    if (isThere) {\r\n      const confirm = window.confirm(`${newName} is already added to phonebook,replace the old number with a new one ?`)\r\n\r\n      if (confirm) {\r\n        const pid = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase()).id\r\n\r\n        personsService\r\n          .update(pid, nameObject)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== pid ? person : response.data))\r\n            setMessage(`Successfully Changed Number for ${newName}`)\r\n            setStyleType('notification')\r\n            setTimeout(() => setMessage(null), 5000)\r\n          })\r\n          .catch(error => {\r\n            setMessage(`Person ${error} was already removed from server`)\r\n            setStyleType('error')\r\n            setTimeout(() => setMessage(null), 5000)\r\n          })\r\n\r\n      }\r\n    }\r\n\r\n    else {\r\n      personsService\r\n        .create(nameObject)\r\n        .then(newPersons => {\r\n          console.log('new person-', newPersons)\r\n          setPersons(persons.concat(newPersons))\r\n          setMessage(`Successfully Added ${newName}`)\r\n          setStyleType('notification')\r\n          setTimeout(() => setMessage(null), 5000)\r\n        })\r\n    }\r\n\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} styleType={styleType} />\r\n      <Filter filterName={filterName} handleFilterChange={handleFilterChange} />\r\n      <h3>add a new</h3>\r\n      <Form addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumChange={handleNumChange} />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filterName={filterName} handleDelete={handleDelete} />\r\n    </div >\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App'\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}