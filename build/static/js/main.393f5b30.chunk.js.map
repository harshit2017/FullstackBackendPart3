{"version":3,"sources":["services/persons.js","components/Form/form.js","components/Filter/filter.js","components/Persons/persons.js","components/Notification/notification.js","components/App/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Form","addName","newName","handleNameChange","newNumber","handleNumChange","onSubmit","value","onChange","type","Filter","filterName","handleFilterChange","Persons","persons","handleDelete","map","person","console","log","name","number","filter","toLowerCase","includes","key","onClick","Notification","message","styleType","className","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setStyleType","useEffect","personsService","initialPersons","e","target","preventDefault","find","window","confirm","pid","nameObject","toUpperCase","setTimeout","catch","error","newPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.393f5b30.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then((response) => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}","import React from 'react'\r\n\r\nconst Form = ({ addName, newName, handleNameChange, newNumber, handleNumChange }) => (<form onSubmit={addName}>\r\n    <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n        number: <input value={newNumber} onChange={handleNumChange} />\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n</form>)\r\n\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ filterName, handleFilterChange }) => <div> filter shown with<input value={filterName} onChange={handleFilterChange} /></div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({ persons, filterName, handleDelete }) => {\r\n    persons.map((person) => console.log(person.name, person.number))\r\n\r\n    const showPersons = () => {\r\n\r\n        let s = persons.filter((person) => person.name.toLowerCase().includes(filterName.toLowerCase()))\r\n        // console.log('initial filter-', filterName === '')\r\n        // console.log(s)\r\n        return s.map((person) =>\r\n            <p key={person.name}> {person.name} {person.number} <button onClick={() => handleDelete(person.id)}>Delete</button></p>\r\n        )\r\n    }\r\n\r\n    return <div>\r\n        {showPersons()}\r\n    </div>\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, styleType }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={styleType}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personsService from '../../services/persons'\r\nimport Form from '../Form/form'\r\nimport Filter from '../Filter/filter'\r\nimport Persons from '../Persons/persons'\r\nimport Notification from '../Notification/notification'\r\n\r\n\r\nconst App = () => {\r\n\r\n  // state variables\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterName, setFilterName] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [styleType, setStyleType] = useState('notification')\r\n\r\n  // initial get req\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  // event handlers\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (e) => {\r\n    setFilterName(e.target.value)\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    const person = persons.find((person) => person.id === id);\r\n    let deleteAlert = window.confirm(`Are you sure you want to delete the entry ${person.name}?`);\r\n\r\n    if (deleteAlert) {\r\n      personsService.remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n        });\r\n    }\r\n  }\r\n\r\n  const addName = (e) => {\r\n    e.preventDefault()\r\n    const person = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase())\r\n\r\n    if (person) {\r\n\r\n      if (window.confirm(`${newName} is already added to phonebook,replace the old number with a new one ?`)) {\r\n        const pid = person.id\r\n        const nameObject = {\r\n          name: newName.toUpperCase(),\r\n          number: newNumber\r\n        }\r\n\r\n        // update request\r\n        personsService\r\n          .update(pid, nameObject)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== pid ? person : response.data))\r\n            setMessage(`Successfully Changed Number for ${newName}`)\r\n            setStyleType('notification')\r\n            setTimeout(() => setMessage(null), 5000)\r\n          })\r\n          .catch(error => {\r\n            setMessage(`Person ${error.response.data} was already removed from server`)\r\n            setStyleType('error')\r\n            setTimeout(() => setMessage(null), 5000)\r\n          })\r\n\r\n      }\r\n    }\r\n\r\n    else {\r\n\r\n      // create request\r\n      const nameObject = {\r\n        name: newName.toUpperCase(),\r\n        number: newNumber\r\n      }\r\n\r\n      personsService\r\n        .create(nameObject)\r\n        .then(newPerson => {\r\n          console.log('new person-', newPerson)\r\n          setPersons(persons.concat(newPerson))\r\n          setMessage(`Successfully Added ${newName}`)\r\n          setStyleType('notification')\r\n          setTimeout(() => setMessage(null), 5000)\r\n        })\r\n        .catch(error => {\r\n          setMessage(`Error: ${error.response.data}`)\r\n          setStyleType('error')\r\n          console.log(error.response.data)\r\n          setTimeout(() => setMessage(null), 5000)\r\n        })\r\n    }\r\n\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} styleType={styleType} />\r\n      <Filter filterName={filterName} handleFilterChange={handleFilterChange} />\r\n      <h3>add a new</h3>\r\n      <Form addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumChange={handleNumChange} />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filterName={filterName} handleDelete={handleDelete} />\r\n    </div >\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App'\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}